# LV2 Inplace Instantiate Extension
# Copyright 2012 Stefan Kersten <stefan@samplecount.com>
#
# Permission to use, copy, modify, and/or distribute this software for any
# purpose with or without fee is hereby granted, provided that the above
# copyright notice and this permission notice appear in all copies.
#
# THIS SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
# WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
# MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
# ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
# WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
# ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
# OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.

@prefix dcs:  <http://ontologi.es/doap-changeset#> .
@prefix doap: <http://usefulinc.com/ns/doap#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix lv2:  <http://lv2plug.in/ns/lv2core#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rti:  <http://methc.la/lv2/ext/rt-instantiate#> .

<http://samplecount.com/about#us>
    a foaf:Organization ;
    foaf:name "Samplecount S.L." ;
    foaf:homepage <http://samplecount.com/> ;
    foaf:mbox <mailto:info@samplecount.com> ;
    rdfs:seeAlso <http://samplecount.com/about> .

<http://methc.la/lv2/ext/rt-instantiate>
    a lv2:Specification ;
    doap:license <http://opensource.org/licenses/isc> ;
    doap:name "LV2 RT Instantiate" ;
    doap:shortdesc "Realtime-safe instantiation of plugins." ;
    doap:release [
        doap:revision "1.0" ;
        doap:created "2012-02-20" ;
        dcs:blame <http://samplecount.com/about#us> ;
        dcs:changeset [
            dcs:item [
                rdfs:label "Initial release."
            ]
        ]
    ] ;
    lv2:documentation """
<p>This extension defines a mechanism for plugins to declare that they are capable of instantiating and initializing instances in a realtime-safe manner. The same restrictions as for the isRTCapable feature apply (TODO: elaborate). In addition, the plugin's <tt>instantiate</tt>, <tt>activate</tt> and <tt>deactivate</tt> instance functions MUST adhere to the same restrictions. In turn, the host guarantees that the latter three functions are always called from the same thread for a given plugin instance (the functions for different instances can be called from different threads).</p>
""" .
rti:Interface
    a rdfs:Class ;
    rdfs:subClassOf lv2:ExtensionData ;
    lv2:documentation """
<p>A structure (LV2_Placement_Instantiate_Interface) which contains functions to be called by the host to save and restore state.  In order to support this extension, the plugin must return a valid LV2_State_Interface from LV2_Descriptor::extension_data() when it is called with
LV2_STATE_INTERFACE_URI.</p>

<p>The plugin data file should describe this like so:</p>
<pre class="turtle-code">
@prefix state: &lt;http://lv2plug.in/ns/ext/state#&gt; .

&lt;plugin&gt;
    a lv2:Plugin ;
    lv2:extensionData state:Interface .
</pre>
""" .

rti:rtInstantiation
    a lv2:Feature ;
    lv2:documentation """
<p>A feature which is used to declare that a plugin is capable of instantiating itself in a realtime-safe manner.</p>
""" .
